FROM ubuntu:18.04

RUN apt-get update && \
    apt-get install -y \
    libaio1 \
    libaio-dev \
    wget

# for anaconda
RUN apt-get install -y libgl1-mesa-glx libegl1-mesa libxrandr2 libxrandr2 libxss1 libxcursor1 libxcomposite1 libasound2 libxi6 libxtst6

#下載mysql
RUN apt-get update && \
    apt-get install -y \
    mysql-server 

# 將conda下載檔案下載至 download底下
# -b for anacnoda slient mode
WORKDIR ~/Downloads
RUN wget https://repo.anaconda.com/archive/Anaconda3-2020.02-Linux-x86_64.sh
RUN bash Anaconda3-2020.02-Linux-x86_64.sh -b

# Make RUN commands use the new environment:
RUN echo "export PATH=~/anaconda3/bin:$PATH" >> ~/.bashrc

# 下載flask
RUN ~/anaconda3/bin/conda install flask
